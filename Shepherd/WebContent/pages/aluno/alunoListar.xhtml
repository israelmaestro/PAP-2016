<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html	xmlns='http://www.w3.org/1999/xhtml'
		xmlns:b='http://bootsfaces.net/ui'
		xmlns:f='http://java.sun.com/jsf/core'
		xmlns:h='http://java.sun.com/jsf/html'
		xmlns:p='http://primefaces.org/ui'
		xmlns:pm='http://primefaces.org/mobile'
		xmlns:pt='http://xmlns.jcp.org/jsf/passthrough'
		xmlns:ui='http://java.sun.com/jsf/facelets'
		>

	<ui:composition template='/recursos/bootsfaces/jsfTemplate.xhtml'>
		<ui:define name='tituloPagina'>SCO > Lista de Alunos</ui:define>
		<ui:define name='tituloPrincipal'>
			<i class='fa fa-child fa-fw' />
			Lista de Alunos
		</ui:define>
		<ui:define name='tituloSecundario'>home > alunos > listar</ui:define>

		<ui:define name='botoesAcao'>
			<p:commandButton value='Novo' action='./alunoCadastrar.jsf' update='@form'/>
		</ui:define>

		<ui:define name='conteudo'>
			<p:dataTable	id='alunoLista'
							class='alunoLista'
							value='#{alunoBean.listar()}'
							var='aluno'
							update='alunoLista'
							style='	width: 100%;
									min-width: 640px;'
							emptyMessage='Não há alunos cadastrados.'
							>

				<p:column	headerText='Nome'
							filterBy='#{aluno.pessoa.nome}'
							filterMatchMode='contains'
							>
					<center>
						<h:outputText value='#{aluno.pessoa.nome}'/>
					</center>
				</p:column>

				<p:column	headerText='Sobrenome'
							filterBy='#{aluno.pessoa.sobrenome}'
							filterMatchMode='contains'
							>
					<center>
						<h:outputText value='#{aluno.pessoa.sobrenome}'/>
					</center>
				</p:column>

				<p:column	headerText='Matrícula'
							filterBy='#{aluno.matricula}'
							filterMatchMode='contains'
							>
					<center>
						<h:outputText value='#{aluno.matricula}'/>
					</center>
				</p:column>

				<p:column	headerText='1º Responsável'
							filterBy='#{aluno.responsavel1.nome}'
							filterMatchMode='contains'
							>
					<center>
						<h:outputText value='#{aluno.responsavel1.nome} #{aluno.responsavel1.sobrenome}'/>
					</center>
				</p:column>

				<p:column	headerText='2º Responsável'
							filterBy='#{aluno.responsavel2.nome}'
							filterMatchMode='contains'
							>
					<center>
						<h:outputText value='#{aluno.responsavel2.nome} #{aluno.responsavel2.sobrenome}'/>
					</center>
				</p:column>

				<p:column	headerText='Alterar'
							style='	width: 10%;
									min-width: auto;'
							>
					<center>
						<a href='javascript:alert("Implementar \"ALTERAR\"")'>
							<i class='fa fa-pencil fa-fw'/>
						</a>
					</center>
				</p:column>

				<p:column	headerText='Excluir'
							style='	width: 10%;
									min-width: auto'
									icon='ui-icon-trash'
									>
					<center>
						<p:commandButton	update='@form'
											action='#{alunoBean.excluir(aluno)}'
											icon='ui-icon-trash'
											>
							<p:confirm	header='Excluir'
										message='Excluir #{aluno.pessoa.nome} #{aluno.pessoa.sobrenome}?'
										icon='ui-icon-alert'
										/>
						</p:commandButton>
					</center>

					<p:confirmDialog global='true' showEffect='fade' hideEffect='fade'>
						<center>
							<p:commandButton	value='Sim'
												type='button'
												styleClass='ui-confirmdialog-yes'
												icon='ui-icon-check'
												/>
							<p:commandButton	value='Não'
												type='button'
												styleClass='ui-confirmdialog-no'
												icon='ui-icon-close'
												/>
						</center>
					</p:confirmDialog>
				</p:column>

			</p:dataTable>
		</ui:define>
	</ui:composition>
</html>