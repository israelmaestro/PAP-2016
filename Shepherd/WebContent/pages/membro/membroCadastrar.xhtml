<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html	xmlns='http://www.w3.org/1999/xhtml'
		xmlns:b='http://bootsfaces.net/ui'
		xmlns:btr='http://butterfaces.larmic.de/components'
		xmlns:f='http://java.sun.com/jsf/core'
		xmlns:h='http://java.sun.com/jsf/html'
		xmlns:p='http://primefaces.org/ui'
		xmlns:pm='http://primefaces.org/mobile'
		xmlns:pt='http://xmlns.jcp.org/jsf/passthrough'
		xmlns:ui='http://java.sun.com/jsf/facelets'
		>

	<ui:composition template='/META-INF/resources/bootsfaces/jsfTemplate.xhtml'>

		<ui:define name='mensagensCampos'>
			<b:message for='nome'/>
			<b:message for='sobrenome'/>
			<b:message for='dataNasc' />
			<b:message for='sexo'/>
			<b:message for='rg'/>
			<b:message for='cpf'/>
			<b:message for='gpsAddress'/>
			<b:message for='cep' />
			<b:message for='logradouro' />
			<b:message for='numero' />
			<b:message for='complemento' />
			<b:message for='bairro' />
			<b:message for='cidade' />
			<b:message for='uf' />
			<b:message for='pais' />
			<b:message for='tbTelefones'/>
			<b:message for='tbEmails' />
			<b:message for='membroCelula' />
			<b:message for='dataMembresia' />
			<br/>
		</ui:define>
		
		<ui:define name='tituloPagina'>Shepherd > Novo Membro</ui:define>
		<ui:define name='tituloPrincipal'>
			<b:iconAwesome name='fa fa-users fa-fw'/>
			<br class='visible-xs'/>
			Novo Membro
		</ui:define>
		<ui:define name='tituloSecundario'>
			home > membros > novo
		</ui:define>
			
		<ui:define name='botoesAcao'>
			<b:buttonGroup>
				<b:button	value=''
							onclick='location.href = "./membroListar.jsf"'
							iconAwesome='fa fa-arrow-left fa-fw'
							/>
				<btr:commandLink	action='#{pessoaBean.cadastrarMembro()}'
									styleClass='btn btn-default'
									>
					<b:iconAwesome name='fa fa-check fa-fw'/>
				</btr:commandLink>
				<b:button	value=''
							iconAwesome='fa fa-eraser fa-fw'
							onclick='location.href = "./membroCadastrar.jsf"'/>
			</b:buttonGroup>
		</ui:define>
			
		<ui:define name='conteudo'>
			<div>
				<b:row>
					<b:column	class='column'	col-lg='10'
								col-md='10'
								col-sm='10'
								col-xs='12'
								>
						<h3>
							<b:iconAwesome name="fa fa-fw fa-user"/>
							Dados pessoais
						</h3>
					</b:column>
					
					<b:column	class='column'
								col-lg='2'
								col-md='2'
								col-sm='2'
								col-xs='4'
								>
						<br class='visible-xs'/>
						
						<table	style='	width: 100%;
										text-align: left;
										line-height: 0px;
										margin:0px;
										margin-left: 16px;
										padding: 0px;
										'
								>
							<tr>
								<td	style='	line-height: 1px;
											color: #0033FF;'
									>
									<b:iconAwesome	name='fa-wheelchair'
													tooltip='Necesidades Especiais'
													onclick='alert("Selecione esta opção caso o membro possua alguma necessidade especial.")'
													style='	border-radius: 100%;
															background-color: #99CCFF;
															margin-left: -4px;
															padding: 3.5px;
															'
													/>
									<b:selectBooleanCheckbox	id='neCheckBox'
																binding='#{showNeMenu}'
																style='	margin-left: 0px;'
																>
										<f:ajax event='change' render='nEspeciaisMostrar' />
									</b:selectBooleanCheckbox>
								</td>
								<td	style='	line-height: 1px;
											color: #FF3333;'
									>
									<b:iconAwesome	name='fa-heart'
													tooltip='Casado / Não-casado'
													onclick='alert("Selecione esta opção caso o membro seja casado.")'
													style='	border-radius: 100%;
															background-color: #FFCCCC;
															margin-left: -5px;
															padding: 3.5px;
															'
													/>
									<b:selectBooleanCheckbox	id='relationshipCheckBox'
																binding='#{showMateInfo}'
																value='#{pessoaBean.pessoa.casada}'
																style='	margin-left: 0px;'
																>
<!-- 										<f:ajax event='change' render='familia' /> -->
									</b:selectBooleanCheckbox>
								</td>
							</tr>
						</table>
					</b:column>
				</b:row>

				<br class='visible-xs'/>

				<b:row>
					<b:column	col-lg='3'
								col-md='3'
								col-sm='6'
								col-xs='12'
								>
						<br/>
						<h:outputLabel	class='outputLabel' for='nome'
										value='Nome*'
										/>
						<b:inputText 	id='nome'
										required='true'
										requiredMessage='Nome: Campo obrigatório'
										value='#{pessoaBean.pessoa.nome}'
										placeholder='Nome'
										class='required'
										/>
					</b:column>
					<b:column	col-lg='3'
								col-md='3'
								col-sm='6'
								col-xs='12'
								>
						<br/>
						<h:outputLabel	class='outputLabel'	for='sobrenome'
										value='Sobrenome*'
										/>
						<b:inputText 	id='sobrenome'
										required='true'
										requiredMessage='Sobrenome: Campo obrigatório'
										value='#{pessoaBean.pessoa.sobrenome}'
										placeholder='Sobrenome'
										class='required'
										/>
					</b:column>
					<b:column	col-lg='3'
								col-md='3'
								col-sm='6'
								col-xs='12'
								>
						<br/>
						<h:outputLabel	class='outputLabel' for='dataNasc' value='Data de Nascimento'/>
						<b:datepicker 	id='dataNasc'
										placeholder='DD/MM/AAAA'
										value='#{pessoaBean.pessoa.dataNasc}'
										/>
					</b:column>
					<b:column	col-lg='3'
								col-md='3'
								col-sm='6'
								col-xs='12'
								>
						<br/>
						<h:outputLabel	class='outputLabel'	for='sexo'
										value='Sexo'
										style='	margin-bottom: 0px;
												'
										>
							<b:iconAwesome	name='fa-question-circle'
											for='sexo'
											tooltip='Selecione o sexo: Masculino (♂) ou Feminino (♀)'
											tooltipDelayHide='3000'
											onclick='alert("Selecione o sexo:\n Masculino (♂)\n Feminino (♀)")'
											style='	margin-left: 4px;'
											/>
						</h:outputLabel>
						<b:switch	id='sexo'
									binding='#{membroSexo}'
									value='#{pessoaBean.pessoa.sexo}'
									offText='♀'
									onText='♂'
									onColor='primary'
									offColor='danger'
									>
<!-- 							<f:ajax event='change' render='familia' /> -->
						</b:switch>
					</b:column>
				</b:row>
				<b:row id='nEspeciaisMostrar'>
					<b:column	col-lg='3'
								col-md='3'
								col-sm='6'
								col-xs='12'
								>
						<br/>
						<h:outputLabel	class='outputLabel'	for='rg'
										value='RG'
										/>
						<b:inputText 	id='rg'
										value='#{pessoaBean.pessoa.rg}'
										placeholder='RG'
										maxlength='9'
										/>
					</b:column>
					<b:column	col-lg='3'
								col-md='3'
								col-sm='6'
								col-xs='12'
								>
						<br/>
						<h:outputLabel	class='outputLabel'	for='cpf'
										value='CPF'
										/>
						<b:inputText	id='cpf'
										onkeypress='return teclaNumerica(event.keyCode)'
										maxlength='11'
										value='#{pessoaBean.pessoa.cpf}'
										placeholder='CPF'
										/>
					</b:column>
					<b:column	col-lg='3'
								col-md='3'
								col-sm='6'
								col-xs='12'
								rendered='#{showNeMenu.value}'
								>
						<br/>
						<h:outputLabel	class='outputLabel' for='nEspeciais' value='Necessidades Especiais' />
						<p:selectCheckboxMenu	id="nEspecial"
												label='#{null == pessoaBean.pessoa.nEspeciais || pessoaBean.pessoa.nEspeciais.size() == 0 ? "Selecione" : pessoaBean.pessoa.nEspeciais.size()} #{null == pessoaBean.pessoa.nEspeciais || pessoaBean.pessoa.nEspeciais.size() == 0 ? "" : "necessidade(s) selecionada(s)"}'
												value="#{pessoaBean.pessoa.nEspeciais}"
												converter="omnifaces.SelectItemsConverter"
												filter="true"
												filterMatchMode="contains"
												showCheckbox="true"
												>
							<f:ajax event='change' render='@this' />
							<f:selectItems	value='#{nEspecialBean.listar()}'
											var='nEspecial'
											itemLabel='#{nEspecial.nome}'
											itemValue='#{nEspecial}'
											/>
						</p:selectCheckboxMenu>
					</b:column>
				</b:row>

				<br/>

				<b:row	style='	border-top: solid;
								border-color: #CCCCCC;
								'>
					<table style='width: 100%;'>
						<tr>
							<td	style='	vertical-align: bottom;'>
								<h3>
									<b:iconAwesome name="fa fa-fw fa-map-marker"/>
									Endereço
								</h3>
							</td>
							<td	style='	vertical-align: bottom;
										text-align: right;
										line-height: 1px;
										margin: 0px;
										padding: 0px;'
								>
								<b:switch	value='#{pessoaBean.pessoa.endereco.gps}'
											label=''
											offText='Postal'
											onText='GPS'
											onColor='danger'
											offColor='primary'
											switchsize='mini'
											binding='#{showGpsForm}'
											>
									<f:ajax event='change' render='endereco' />
								</b:switch>
							</td>
						</tr>
					</table>
				</b:row>
					
				<b:row id='endereco'>
					<b:row	rendered='#{showGpsForm.value}'
									>
						<b:column	col-lg='4'
									col-md='4'
									col-sm='6'
									col-xs='12'
									>
							<br/>
							<h:outputLabel	class='outputLabel'	for='gpsAddress'
											value='Coordenadas de GPS*'
											/>
							<b:inputText	id='gpsAddress'
											value='#{pessoaBean.pessoa.endereco.logradouro}'
											placeholder='Digite as coordenadas do GPS'
											required='true'
											requiredMessage='Coordenadas de GPS: Campo obrigatório!'
											class='required'
											/>
						</b:column>
					</b:row>
					<b:row	rendered='#{!showGpsForm.value}'
									class='row'
									>
						<b:column	col-lg='3'
									col-md='3'
									col-sm='3'
									col-xs='12'
									>
							<br/>
							<h:outputLabel	class='outputLabel' value='CEP' for='cep'/>
							<b:iconAwesome	name='fa-question-circle'
											tooltip='Caso o sistema encontre o CEP digitado, os campos de endereço serão preenchidos automaticamente.'
											onclick='alert("Caso o sistema encontre o CEP digitado, os campos de endereço serão preenchidos automaticamente.")'
											style='	margin-left: 4px;'
											/>
							<b:inputText	id='cep'
											binding='#{cep}'
											maxlength='8'
											onkeypress='return teclaNumerica(event.keyCode)'
											value='#{pessoaBean.pessoa.endereco.cep}'
											placeholder='Digite o CEP'
											onblur='if(this.value != "") pesquisaCep(this.value);'
											/>
						</b:column>
						
						<b:column	col-lg='6'
									col-md='6'
									col-sm='9'
									col-xs='12'
									>
							<br/>
							<h:outputLabel	class='outputLabel' value='Endereço' for='logradouro'/>
							<b:inputText	id='logradouro'
											name='logradouro'
											value='#{pessoaBean.pessoa.endereco.logradouro}'
											placeholder='Digite o nome da rua, avenida, etc.'
											class='hidden-xs'
											onblur='document.getElementById("input_form:logradouro2").value = document.getElementById("input_form:logradouro").value'
											/>
							<b:inputTextarea	id='logradouro2'
												name='logradouro2'
												value='#{pessoaBean.pessoa.endereco.logradouro}'
												placeholder='Digite o nome da rua, avenida, etc.'
												class='visible-xs'
												onblur='document.getElementById("input_form:logradouro").value = document.getElementById("input_form:logradouro2").value'
												/>
						</b:column>
						
						<b:column	col-lg='1'
									col-md='1'
									col-sm='2'
									col-xs='5'
									>
							<br/>
							<h:outputLabel	class='outputLabel' value='№' for='numero'/>
							<b:inputText	id='numero'
											value='#{pessoaBean.pessoa.endereco.numero}'
											onkeypress='return teclaNumerica(event.keyCode)'
											maxlength='5'
											placeholder='№'
											/>
						</b:column>
						
						<b:column	col-lg='2'
									col-md='2'
									col-sm='4'
									col-xs='7'
									>
							<br/>
							<h:outputLabel	class='outputLabel' value='Complemento' for='complemento'/>
							<b:inputText	id='complemento'
											value='#{pessoaBean.pessoa.endereco.complemento}'
											placeholder='Complemento'
											/>
						</b:column>
						
						<b:column	col-lg='3'
									col-md='3'
									col-sm='6'
									col-xs='12'
									>
							<br/>
							<h:outputLabel	class='outputLabel' value='Bairro' for='bairro'/>
							<b:inputText	id='bairro'
											value='#{pessoaBean.pessoa.endereco.bairro}'
											placeholder='Bairro'
											/>
						</b:column>
						
						<b:column	col-lg='4'
									col-md='4'
									col-sm='6'
									col-xs='12'
									>
							<br/>
							<h:outputLabel	class='outputLabel' value='Cidade' for='cidade'/>
							<b:inputText	id='cidade'
											value='#{pessoaBean.pessoa.endereco.cidade}'
											placeholder='Cidade'
											/>
						</b:column>
						
						<b:column	col-lg='1'
									col-md='1'
									col-sm='2'
									col-xs='4'
									>
							<br/>
							<h:outputLabel	class='outputLabel' value='UF' for='uf'/>
							<b:inputText	id='uf'
											maxlength='2'
											value='#{pessoaBean.pessoa.endereco.estado}'
											placeholder='UF'
											/>
						</b:column>
						
						<b:column	col-lg='4'
									col-md='4'
									col-sm='4'
									col-xs='12'
									>
							<br/>
							<h:outputLabel	class='outputLabel' value='País' for='pais'/>
							<b:inputText	id='pais'
											value='#{pessoaBean.pessoa.endereco.pais}'
											placeholder='País'
											/>
						</b:column>
					</b:row>
				</b:row>

				<br/>

				<b:row	style='	border-top: solid;
								border-color: #CCCCCC;
								'
						>
					<h3>
						<b:iconAwesome name="fa fa-fw fa-phone"/>
						Telefone
					</h3>
				</b:row>
				<b:row>
					<h:dataTable	id='tbTelefones'
									value='#{pessoaBean.pessoa.telefones}'
									var='telefone'
									style='	width: 100%;'
									>
						<h:column>
							<b:column	col-lg='3'
										col-md='3'
										col-sm='6'
										col-xs='12'
										>
								<br/>
								<b:inputText	value='#{telefone.numero}'
												placeholder='DDI + Código + Número'
												maxlength='32'
												onkeypress='return teclaNumerica(event.keyCode);'
												/>
							</b:column>
							<b:column	col-lg='3'
										col-md='3'
										col-sm='6'
										col-xs='12'
										>
								<br class='hidden-xs'/>
								<table	style='	width: 100%;
												'
										>
									<tr>
										<td>
											<b:inputText	value='#{telefone.descricao}'
															placeholder='Descrição'
															/>
										</td>
										<td	style='	vertical-align: middle;
													text-align: right;
													'
											>
											<b:iconAwesome	name='fa fa-trash fa-fw'
															size='lg'
															style='	color: #CC0000;
																	margin-bottom: 12px;
																	'
															>
												<f:ajax	listener="#{pessoaBean.botaoRemoverTelefone(telefone)}"
														immediate="true"
														render="@form"
														/>
											</b:iconAwesome>
										</td>
									</tr>
								</table>
							</b:column>
						</h:column>
					</h:dataTable>
					<b:column span='12'>
						<b:iconAwesome	name='fa fa-plus fa-fw'
										size='lg'
										style='	color: #0C0;					
												'
										>
							<f:ajax	listener="#{pessoaBean.botaoAdicionarTelefone}"
									execute="tbTelefones"
									render="tbTelefones"
									/>
						</b:iconAwesome>
					</b:column>
				</b:row>

				<br/>
				
				<b:row	style='	border-top: solid;
								border-color: #CCCCCC;
								'
						>
					<h3>
						<b:iconAwesome name="fa fa-fw fa-at"/>
						E-mail
					</h3>
				</b:row>
				
				<b:row>
					<h:dataTable	id='tbEmails'
									value='#{pessoaBean.pessoa.emails}'
									var='email'
									style='	width: 100%;'
									>
						<h:column>
							<b:column	col-lg='3'
										col-md='3'
										col-sm='6'
										col-xs='12'
										>
								<br/>
								<b:inputText	value='#{email.conta}'
												placeholder='E-Mail'
												/>
							</b:column>
							<b:column	col-lg='3'
										col-md='3'
										col-sm='6'
										col-xs='12'
										>
								<br class='hidden-xs'/>
								<table	style='	width: 100%;
												'
										>
									<tr>
										<td>
											<b:inputText	value='#{email.descricao}'
															placeholder='Descrição'
															/>
										</td>
										<td	style='	vertical-align: middle;
													text-align: right;
													'
											>
											<b:iconAwesome	name='fa fa-trash fa-fw'
															size='lg'
															style='	color: #CC0000;
																	margin-bottom: 12px;
																	'
															>
												<f:ajax	listener="#{pessoaBean.botaoRemoverEmail(email)}"
														immediate="true"
														render="@form"
														/>
											</b:iconAwesome>
										</td>
									</tr>
								</table>
							</b:column>
						</h:column>
					</h:dataTable>
					<b:column span='12'>
						<b:iconAwesome	name='fa fa-plus fa-fw'
										size='lg'
										style='	color: #00CC00;					
												'
										>
							<f:ajax	listener="#{pessoaBean.botaoAdicionarEmail}"
									execute="tbEmails"
									render="tbEmails"
									/>
						</b:iconAwesome>
					</b:column>
				</b:row>
				
				<br/>

				<b:row id='dadosMembro' class='splitRow'>
					<table style='width: 100%;'>
						<tr>
							<td	style='	vertical-align: bottom;'>
								<h3>
									<b:iconAwesome name="fa fa-fw fa-users"/>
									Membresia
								</h3>
							</td>
							<td	style='	line-height: 1px;
										color: #FFF;
										min-width: 32px;
										max-width: 32px;
										'
								>
								<b:iconAwesome	name='fa-flash'
													tooltip='Batizado'
													onclick='alert("Selecione esta opção se o membro for batizado.")'
													style='	border-radius: 100%;
															background-color: #33F;
															margin-left: -5px;
															padding: 3.5px 7px;
															'
													/>
								<b:selectBooleanCheckbox	id='baptized'
															binding='#{showBaptizmDate}'
															value='#{pessoaBean.pessoa.batizada}'
															style='	margin-left: 0px;'
															>
									<f:ajax event='change' render='dadosMembro' />
								</b:selectBooleanCheckbox>
							</td>

						</tr>
					</table>
					<b:row>
						<b:column	rendered='#{!showPresidentForm.value}'
									col-lg='3'
									col-md='3'
									col-sm='6'
									col-xs='12'
									>
							<br/>
							<h:outputLabel	class='outputLabel' for='membroCelula' value='Célula' />
							<h:selectOneMenu	id='membroCelula'
												value='#{pessoaBean.pessoaCelula.celula}'
												converter='omnifaces.SelectItemsConverter'
												class='hSelectOneMenu required'
												required='true'
												requiredMessage='Célula: Campo obrigatório!'
												>
								<f:selectItem	itemLabel='Selecione'
												noSelectionOption='true'
												/>
								<f:selectItems	value='#{celulaBean.listar()}'
												var='membroCelula'
												itemLabel='#{membroCelula.nome} (#{membroCelula.sede.nome}#{membroCelula.sede.mae ? "*" : ""})'
												/>
							</h:selectOneMenu>
						</b:column>
						<b:column	col-lg='3'
									col-md='3'
									col-sm='6'
									col-xs='12'
									>
							<br/>
							<h:outputLabel	for='dataMembresia'
											value='Data da membresia'
											class='outputLabel'
											/>
							<b:datepicker 	id='dataMembresia'
											placeholder='DD/MM/AAAA'
											value='#{pessoaBean.pessoaCelula.dataInicio}'
											>
								<script>
									requiredField("form:dataMembresia");
								</script>
							</b:datepicker>
						</b:column>
						<b:column	col-lg='3'
									col-md='3'
									col-sm='6'
									col-xs='12'
									rendered='#{showBaptizmDate.value}'
									>
							<br/>
							<h:outputLabel	for='dataBatismo'
											value='Data do batismo'
											class='outputLabel'
											/>
							<b:datepicker 	id='dataBatismo'
											placeholder='DD/MM/AAAA'
											value='#{pessoaBean.pessoa.dataBatismo}'
											>
							</b:datepicker>
						</b:column>
					</b:row>
					<br/>
<!-- 					<b:row id='leaderForm'> -->
<!-- 						<b:row rendered='true' class='splitRow'> -->
<!-- 							<h3> -->
<!-- 								<b:iconAwesome name="fa fa-fw fa-users"/> -->
<!-- 								Liderança -->
<!-- 							</h3> -->
							
<!-- 							<b:row rendered='#{showCordinatorForm.value}'> -->
							
<!-- 								<b:row rendered='#{showPastorForm.value}'> -->
		
<!-- 									<b:row rendered='#{showPresidentForm.value}'> -->
									
<!-- 									</b:row> -->
<!-- 								</b:row> -->
<!-- 							</b:row> -->
<!-- 						</b:row> -->
<!-- 					</b:row> -->
				</b:row>
			</div>
		</ui:define>
	</ui:composition>

</html>