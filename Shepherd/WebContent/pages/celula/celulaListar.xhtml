<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html	xmlns='http://www.w3.org/1999/xhtml'
		xmlns:b='http://bootsfaces.net/ui'
		xmlns:btr='http://butterfaces.larmic.de/components'
		xmlns:f='http://java.sun.com/jsf/core'
		xmlns:h='http://java.sun.com/jsf/html'
		xmlns:p='http://primefaces.org/ui'
		xmlns:pm='http://primefaces.org/mobile'
		xmlns:pt='http://xmlns.jcp.org/jsf/passthrough'
		xmlns:ui='http://java.sun.com/jsf/facelets'
		>

	<ui:composition template='/META-INF/resources/bootsfaces/jsfTemplate.xhtml'>
		<ui:define name='mensagensCampos'/>
		<ui:define name='tituloPagina'>Shepherd > Lista de Células</ui:define>
		<ui:define name='tituloPrincipal'>
			<b:iconAwesome name='fa fa-sitemap fa-fw'/>
			<br class='visible-xs'/>
			Lista de Células
		</ui:define>
		<ui:define name='tituloSecundario'>home > células > listar</ui:define>
		
		<ui:define name='botoesAcao'>
			<b:buttonGroup>
				<b:button	value=''
							onclick='location.href = "./celulaCadastrar.jsf"'
							iconAwesome='fa fa-plus fa-fw'
							/>
				<b:button	value=''
							onclick='location.href = "./celulaListar.jsf"'
							iconAwesome='fa fa-list fa-fw'
							/>
				<b:button	value=''
							onclick='mostrarImagem("mapaTeste.png")'
							iconAwesome='fa fa-globe fa-fw'
							/>
				<b:button	value=''
							onclick='mostrarImagem("graficoTeste.png")'
							iconAwesome='fa fa-line-chart fa-fw'
							/>
			</b:buttonGroup>
			<script type="text/javascript">
				function mostrarImagem(x){
					var image = "#{facesContext.externalContext.requestContextPath}/resources/genericImages/" + x;
					document.getElementById("form:principal").innerHTML = '<img src="' + image + '" style="width: 100%; height: auto;"></img>';
				}
			</script>
		</ui:define>
			
		<ui:define name='conteudo'>
			<b:row>
				<b:column span='12'>
					<p:dataTable	id='celulaLista'
									value='#{celulaBean.listar()}'
									var='celula'
									update='celulaLista'
									emptyMessage='Nenhuma célula encontrada.'
									>
						<p:column	headerText='Nome'
									priority='1'
									>
							<center>
								<h:outputText value='#{celula.nome}'/>
							</center>
						</p:column>
						
						<p:column	headerText='Frente'
									priority='3'
									>
							<center>
								<h:outputText value='#{celula.frente.nome}'/>
							</center>
						</p:column>
						
						<p:column	headerText='Sede'
									priority='2'
									>
							<center>
								<h:outputText value='#{celula.sede.nome}'/>
							</center>
						</p:column>
						
						<p:column	headerText='Opções'
									priority='1'
									>
							<center>
								<p:commandButton	update='@form'
													onclick='alert("Visualização AINDA NÃO IMPLEMENTADA!")'
													icon='fa fa-fw fa-eye'
													alt='Visualizar'
													/>
								<p:commandButton	ajax='false'
													action='#{celulaBean.prepararAlteracao(celula)}'
													icon='fa fa-fw fa-pencil'
													style='	color: #009900;
															'
													alt='Alterar'
													/>
								<p:commandButton	update='@form'
													action='#{celulaBean.excluir(celula)}'
													icon='fa fa-fw fa-trash'
													style='	color: #cc0000;
															'
													alt='Excluir'
													>
									<p:confirm	header='Excluir'
												message='Excluir a celula “#{celula.nome}”?'
												icon='null'
												style='	font-size: 200%;
														'
												/>
								</p:commandButton>
							</center>
							
							<p:confirmDialog	global='true'
												closable='false'
												>
								<center>
									<p:commandButton	styleClass='ui-confirmdialog-yes'
														icon='fa fa-fw fa-check'
														style='	color: #CC0000;
																'
														/>
									<p:commandButton	styleClass='ui-confirmdialog-no'
														icon='fa fa-fw fa-close'
														style='	color: #0000CC;
																'
														/>
								</center>
							</p:confirmDialog>
						</p:column>
					</p:dataTable>
				</b:column>
			</b:row>
		</ui:define>
	</ui:composition>
</html>